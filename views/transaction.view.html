<div class="content">

    <h2 class="headline"><em></em>{{ 'TX.HEADLINE' | translate }}</h2>
    <div ng-if="loading_tx">
        <div class="mini-loader">Loading...</div>
    </div>
    <div class="row panel nga-default nga-stagger nga-fade" ng-hide="loading_tx">
        <div class="col-md-12 panel-body">
            <div class="row">
                <div class="col-md-3 list-item-label">{{ 'TX.HASH' | translate }}</div>
                <div class="col-md-9 list-item-value hash-mono">{{ transaction.hash }}</div>
            </div>
            <div class="row">
                <div class="col-md-3 list-item-label">{{ 'TX.BLOCK' | translate }}</div>
                <div class="col-md-9 list-item-value"><a href="#!/blk/{{transaction.block}}">{{ transaction.height }}</a></div>
            </div>
            <div class="row">
                <div class="col-md-3 list-item-label">{{ 'TX.TIMESTAMP' | translate }}</div>
                <div class="col-md-9 list-item-value">{{transaction.confirmed_at * 1000 | date: ( 'GENERAL.DATE_FORMAT_MEDIUM' | translate ) }}</div>
            </div>
            <div class="row">
                <div class="col-md-3 list-item-label">{{ 'CONFIRMATIONS' | translate }}</div>
                <div class="col-md-9 list-item-value block-orphan" ng-show="!loading_confirmation && (transaction.orphan != 0)">{{ 'TX.ORPHAN' | translate}}</div>
                <div class="col-md-9 list-item-value block-confirmed" ng-show="!loading_confirmation && (transaction.orphan == 0) && confirmations > 100">{{ 'TX.CONFIRMED' | translate}}</div>
                <div class="col-md-9 list-item-value block-pending-confirmation" ng-show="!loading_confirmation && (transaction.orphan == 0) && confirmations <= 100">{{ confirmations }}</div>
                <div class="col-md-9 list-item-value" ng-show="loading_confirmation"><img src="../images/spinner.gif"></div>
            </div>

            <hr ng-show="messages.length > 0">
            <div class="row" ng-show="messages.length > 0">
                <div class="col-md-12 list-item-value">{{ 'TX.MEMO' | translate }}</div>
                <div class="col-md-12 list-item-label" ng-repeat="message in messages">{{ message }}</div>
            </div>

            <hr>
            <div class="row">
                <div class="col-md-5">
                    <div class="row" ng-repeat="input in transaction.inputs">
                        <div ng-if="input.attachment.symbol != 'ETP'">
                            <div class="col-md-5">
                              <div ng-show="input.attachment.type == 'did-transfer'">{{'TX.TYPE_DID_TRANSFER'|translate}}</div>
                              <div ng-show="input.attachment.cert == 'issue'">{{'TX.TYPE_ASSET_CERT_ISSUE'|translate}}</div>
                              <div ng-show="input.attachment.cert == 'domain'">{{'TX.TYPE_ASSET_CERT_DOMAIN'|translate}}</div>
                              <div ng-show="input.attachment.cert == 'naming'">{{'TX.TYPE_ASSET_CERT_NAMING'|translate}}</div>
                              <span>{{input.attachment.quantity| numberFormat:input.attachment.decimals | currency:'':input.attachment.decimals}} {{input.attachment.symbol}}</span>
                            </div>
                            <div class="col-md-7">
                                <a class="address-mono" ng-if="input.address" href="#!/adr/{{input.address}}">{{input.address}}</a>
                                <div class="io-script">{{input.script}}</div>
                            </div>
                        </div>
                        <div ng-if="input.value != 0 || input.address == ''">
                            <div class="col-md-5">
                                <span ng-if="input.address">{{input.value| numberFormat:8|currency:'':8}} ETP</span>
                            </div>
                            <div class="col-md-7">
                                <span ng-if="input.address == ''">{{'TX.INPUT_COINBASE'|translate}}</span>
                                <a class="address-mono" ng-if="input.address" href="#!/adr/{{input.address}}">{{ input.address }}</a>
                                <div class="io-script">{{input.script}}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-1 transaction-arrow">
                    <i class="icon-arrow-right2"></i>
                </div>
                <div class="col-md-6 right">
                    <div class="row" ng-repeat="output in transaction.outputs">
                        <div ng-if="output.attachment.symbol != 'ETP'">
                            <div class="col-md-7">
                                <a class="address-mono" href="#!/adr/{{output.address}}">{{output.address}}</a>
                                <div class="io-script">{{output.script}}</div>
                            </div>
                            <div class="col-md-5 right">
                                <div ng-show="output.attachment.type == 'did-issue'">{{'TX.TYPE_DID_ISSUE'|translate}}</div>
                                <div ng-show="output.attachment.type == 'did-transfer'">{{'TX.TYPE_DID_TRANSFER'|translate}}</div>
                                <div ng-show="output.attachment.type == 'asset-issue' && !output.attachment.is_secondaryissue">{{'TX.TYPE_ASSET_ISSUE'|translate}}</div>
                                <div ng-show="output.attachment.type == 'asset-issue' && output.attachment.is_secondaryissue">{{'TX.TYPE_ASSET_SECONDARY_ISSUE'|translate}}</div>
                                <div ng-show="output.attachment.cert == 'issue'">{{'TX.TYPE_ASSET_CERT_ISSUE'|translate}}</div>
                                <div ng-show="output.attachment.cert == 'domain'">{{'TX.TYPE_ASSET_CERT_DOMAIN'|translate}}</div>
                                <div ng-show="output.attachment.cert == 'naming'">{{'TX.TYPE_ASSET_CERT_NAMING'|translate}}</div>
                                {{output.attachment.quantity | numberFormat:output.attachment.decimals | currency:'':output.attachment.decimals}} {{output.attachment.symbol}}
                            </div>
                        </div>
                        <div ng-if="output.value != 0">
                            <div class="col-md-7">
                                <a class="address-mono" href="#!/adr/{{output.address}}">{{ output.address }}</a>
                                <div class="io-script">{{output.script}}</div>
                            </div>
                            <div class="col-md-5 right">
                                {{output.value | numberFormat:8|currency:'':8}} ETP
                                <div ng-if="output.unlock_block" class="io-script">{{'TX.FROZEN_UNTIL_BLOCK'|translate}} {{output.unlock_block}}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
